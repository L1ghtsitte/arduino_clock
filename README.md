# Arduino_clock
## Основные функции
- Отображение текущего времени (часы, минуты, секунды)
- Отображение текущей даты (день, месяц, год)
- Режим настройки параметров времени и даты
- Анимация мигающего сердца
- Защита от дребезга контактов кнопок

## Аппаратные компоненты
- LCD дисплей 16x2 с I2C интерфейсом (адрес 0x27)
- 3 тактовые кнопки:
  - Кнопка "Next" (Следующий) - пин 2
  - Кнопка "Prev" (Предыдущий) - пин 3
  - Кнопка "Set" (Установка) - пин 4

## Управление кнопками

### В обычном режиме
- **Кнопка SET**: Вход в режим настройки параметров

### В режиме настройки
- **Кнопка NEXT**: Увеличение значения текущего параметра
- **Кнопка PREV**: Уменьшение значения текущего параметра
- **Кнопка SET**: 
  - Подтверждение текущего значения
  - Переход к следующему параметру
  - Выход из режима настройки после завершения

## Последовательность настройки параметров
При входе в режим настройки пользователь последовательно настраивает:
1. Часы (0-23)
2. Минуты (0-59)
3. День (1-31, с учетом дней в месяце)
4. Месяц (1-12)
5. Год (2000-2099)

## Особенности реализации

### Пользовательские символы
Созданы и используются три специальных символа:
1. Заполненное сердце (символ 0)
2. Пустое сердце (символ 1)
3. Символ часов (символ 2)

### Защита от дребезга
Реализована через временные задержки (50 мс) для каждой кнопки:
```cpp
unsigned long lastDebounceTimeNext = 0;
unsigned long lastDebounceTimePrev = 0;
unsigned long lastDebounceTimeSet = 0;
const unsigned long debounceDelay = 50;
```

### Алгоритм работы времени
- Время обновляется каждую секунду
- При достижении 60 секунд сбрасываются секунды и увеличиваются минуты
- При достижении 60 минут сбрасываются минуты и увеличиваются часы
- При достижении 24 часов сбрасываются часы и обновляется дата

### Работа с датами
Автоматически учитывает:
- Разное количество дней в месяцах
- Високосные годы (29 дней в феврале)
- Корректный переход между месяцами и годами

## Формат отображения

### Основной экран
```
[Символ часов]   HH:MM:SS [Мигающее сердце]
[Пустое сердце]   DD/MM/YY [Заполненное сердце]
```
Пример:
```
⏰   14:25:03 ♥
♡   17/03/24   ❤
```

### Экран настройки
```
Set: [Параметр]
Value: [Текущее значение]
```
Пример:
```
Set: Hours
Value: 14
```

## Важные функции

### `daysInMonth(month, year)`
Рассчитывает количество дней в месяце с учетом високосных лет:
```cpp
int daysInMonth(int month, int year) {
  if (month == 4 || month == 6 || month == 9 || month == 11) {
    return 30;
  } else if (month == 2) {
    if ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0)) {
      return 29;
    } else {
      return 28;
    }
  } else {
    return 31;
  }
}
```

### `printTwoDigits(number)`
Выводит числа с ведущим нулем для единообразного отображения времени:
```cpp
void printTwoDigits(int number) {
  if (number < 10) lcd.print("0");
  lcd.print(number);
}
```

## Начальные установки
При запуске системы:
- Устанавливается начальная дата: 1 января 2023 года
- Устанавливается начальное время: 12:00:00
- Выводится приветственное сообщение на 2 секунды:
  ```
     My Clock    
    Version 1.0 
  ```
